{"version":3,"sources":["components/Footer/Footer.js","reportWebVitals.js","serviceWorkerRegistration.js","index.js","resources/gistMds/README.md","functions/backup.js","functions/cookie.js","key.js","Firebase.js","components/NotFound/NotFound.js","components/Accounts/Accounts.js","App.js","components/Header/Header.js","components/Questions/Questions.js","components/Play/Play.js","components/ModalCollection/ModalCollection.js","Auth.js","resources/2.png","resources/1.png","resources/0.png","components/Top/Top.js","resources/github.png","resources/sample.yml","components/Dashboard/Dashboard.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","ReactDOM","render","StrictMode","App","document","getElementById","URL","process","href","origin","addEventListener","fetch","headers","response","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration","merge","require","diff","getModal","name","M","Modal","getInstance","querySelector","fetchRequest","url","a","method","data","undefined","cookieParser","find","cookie","key","value","redirect","body","JSON","stringify","json","fetchRequestWithNoCors","githubSync","stateArg","setState","modifyDataBase","force","parse","getUserName","userResult","user","id","login","userGists","userGist","gist","files","raw_url","database","signedIn","loginProblem","ReadmeFile","text","content","deletePrivateData","description","public","dbToUp","generateQuestionGist","accessor","toast","html","araiReadMe","title","postData","result","shareId","open","importFromGist","generateQuestion","pushFunc","fetchDataBase","qId","close","e","objectArg","object","db","backupData","signInCheck","split","map","trim","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firebase","initializeApp","firestore","NotFound","props","className","waves","onClick","left","getSideNav","Sidenav","openAccountMenu","isMobile","Accounts","menuData","background","email","image","photoURL","displayName","menu","icon","confirm","provider","auth","GithubAuthProvider","addScope","setCustomParameters","signInWithPopup","token","credential","accessToken","code","message","loginGitHub","signOut","Date","toUTCString","options","draggable","trigger","userView","v","k","currentId","keyName","question","arrayMerge","destinationArray","sourceArray","genId","number","Math","random","toString","substr","moment","format","questions","shuffleOptions","shuffleQuestions","hardMode","challengeJson","manualScrolling","bind","global","dumpAll","onLoggedIn","basename","exact","path","params","baseAccessor","baseState","localStorage","getItem","this","setInterval","setItem","React","Component","withRouter","role","flat","style","height","s","src","width","data-target","useEffect","importId","search","item","q","history","push","requestQuestion","length","useState","deleteTarget","setDeleteTarget","Object","keys","filter","test","header","fixedFooter","actions","bottomSheet","l","m","to","closeIcon","revealIcon","successMessages","encourageMessages","arrayRandom","array","floor","Play","shuffle","temporaryValue","randomIndex","currentIndex","regenerateQuiz","onlyFailed","correct","answers","option","selected","insert","answer","answered","checkCorrect","disabledNext","emptyWarn","checkAnswer","currentQuestion","forceCorrect","manualScoring","String","answer_0","targetOption","entries","every","i","goBack","setTimeout","replace","slice","offset","progress","disabled","texContent","label","onChange","target","type","checked","filledIn","medium","round","data-field","join","marginRight","setImportId","Auth","_isMounted","componentDidMount","onAuthStateChanged","isProblem","componentWillUnmount","Top","large","rel","Image1","Image2","Image3","Dashboard","tryEditJson","sampleYaml","tryEditYaml","generateYaml","generateJson","textareaAutoResize","handleChange","event","localChange","handleChangeBool","handleChangeToggle","handleKeyDown","keyCode","preventDefault","textareaElement","currentText","start","selectionStart","end","selectionEnd","spaceCount","substitution","Array","newText","substring","setSelectionRange","check","loadDefault","jsonBuffer","isJsonValid","deleteOptions","yamlBuffer","yamlData","yaml","load","isArray","Error","isYamlValid","generateQuestions","el","includes","buffer","assign","jsonRaw","yamlDumped","dump","str","jsonMinify","jsonEditable","showMore","jsonChallenge","SwitchTemp","validate","offLabel","onLabel","onBlur","onKeyDown"],"mappings":"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","file":"static/js/main.a87e1e4f.chunk.js","sourcesContent":["import { Button, Card, Row, Col, Footer } from 'react-materialize';\nconst FooterDefined = (props) => {\n    return (\n        <Footer copyrights=\"© 2021 Copyright Text\"\n            moreLinks={\n                <a className=\"grey-text text-lighten-4 right\" href=\"#!\">More Links</a>\n            }\n            links={\n                <ul>\n                    <li><a className=\"grey-text text-lighten-3\" href=\"#!\">Link 1</a></li>\n                    <li><a className=\"grey-text text-lighten-3\" href=\"#!\">Link 2</a></li>\n                    <li><a className=\"grey-text text-lighten-3\" href=\"#!\">Link 3</a></li>\n                    <li><a className=\"grey-text text-lighten-3\" href=\"#!\">Link 4</a></li>\n                </ul>\n            }\n            className='page-footer orange'\n        >\n            <h5 className=\"white-text\">Footer Content</h5>\n            <p className=\"grey-text text-lighten-4\">You can use rows and columns here to organize your footer content.</p>\n        </Footer>\n    )\n}\n\nexport default FooterDefined;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }else{\n    console.log(\"Not production\");\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter as Router, Route, Switch, withRouter } from 'react-router-dom';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.register();\n","export default __webpack_public_path__ + \"static/media/README.efa77d33.md\";","import M from \"materialize-css\";\nimport { cookieParser } from \"./cookie\"\nimport fetch from \"node-fetch\"\nimport ReadmeFile from \"../resources/gistMds/README.md\"\nconst merge = require('deepmerge');\nconst { diff } = require(\"deep-object-diff\");\nconst getModal = (name) => (M.Modal.getInstance(document.querySelector(name)))\n\nconst fetchRequest = async (url, method = \"GET\", data = undefined) => {\n    return await (await fetch(url, {\n        method, // *GET, POST, PUT, DELETE, etc.\n        headers: {\n            'Authorization': `Bearer ${cookieParser().find(cookie => cookie.key === \"GITHUB_TOKEN\").value}`,\n            'Accept': 'application/vnd.github.v3+json'\n        },\n        redirect: 'follow', // manual, *follow, error\n        body: data === undefined ? undefined : JSON.stringify(data, null, 2)\n    })).json();\n}\n\nconst fetchRequestWithNoCors = async (url) => {\n    return await (await fetch(url, {\n        method: \"GET\", // *GET, POST, PUT, DELETE, etc.\n        redirect: 'follow', // manual, *follow, error\n    })).json();\n}\n\nconst githubSync = async (stateArg, setState, modifyDataBase = false, force = false) => {\n    const state = JSON.parse(JSON.stringify(stateArg))\n    const getUserName = async () => {\n        const userResult = await fetchRequest(`https://api.github.com/user`);\n        const user = state.user;\n        console.log(userResult);\n        user.id = userResult.login;\n        setState({ user });\n        return userResult.login;\n    }\n\n    const fetchDataBase = async (id) => {\n        const userGists = await fetchRequest(`https://api.github.com/users/${id}/gists`);\n        console.log(userGists);\n        const userGist = userGists.find(gist => gist.files[\"araidb.json\"] !== undefined);\n        console.log(userGist);\n        console.log(userGist === undefined)\n        const database = userGist === undefined ? undefined : userGist === undefined ? \"{}\" : await fetchRequestWithNoCors(userGist.files[\"araidb.json\"].raw_url);\n        return { userGist, database };\n    }\n\n    if (state.user === undefined || (!(state.signedIn && state.user.loginProblem !== true) && !force)) {\n        return\n    }\n    const id = (state.user?.id === undefined) ? await getUserName() : state.user.id;\n    return; //Under construction\n    const { userGist, database } = await fetchDataBase(id);\n    console.log(userGist);\n    console.log(database);\n    console.log((await fetch(ReadmeFile)).text)\n    if (userGist === undefined) {\n        //DB not exists\n        console.log(\"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\");\n        console.log(ReadmeFile);\n        console.log(state);\n        const data = {\n            description: \"ARAIのデータベースファイルです\",\n            public: false,\n            files: {\n                \"arai.md\": {\n                    content: await (await fetch(ReadmeFile)).text()\n                },\n                \"araidb.json\": {\n                    content: JSON.stringify(deletePrivateData(state), null, 2)\n                }\n            }\n        }\n        await fetchRequest(`https://api.github.com/gists`, \"POST\", data)\n    } else {\n        //DB exists\n        let dbToUp = state;\n        if (modifyDataBase) {\n            console.log(force ? merge(state, database) : database);\n            console.log(database)\n            console.log(state)\n            dbToUp = deletePrivateData(force ? merge(state, database) : database);\n            setState(dbToUp);\n            if (force) {\n                return;\n            }\n        }\n        if (JSON.stringify(diff(deletePrivateData(dbToUp), database)) === JSON.stringify({})) {\n            console.log(\"Everything up to date.\");\n            return;\n        }\n        await fetchRequest(`https://api.github.com/gists/${userGist.id}`, \"PATCH\", {\n            files: {\n                \"araidb.json\": {\n                    content: JSON.stringify(deletePrivateData(dbToUp), null, 2)\n                }\n            }\n        })\n        console.log(\"updated\")\n\n    }\n}\n\nconst generateQuestionGist = async (data, accessor) => {\n    M.toast({ html: \"共有しています...\" })\n    const araiReadMe = `\n# ${data.title}\n${data.description}\n\n## ARAI\nThis gist is auto generated by ARAI(https://bonychops.github.io/arai/)\n`\n    const postData = {\n        description: data.title + \" (ARAI Question)\",\n        public: false,\n        files: {\n            \"arai.md\": {\n                content: araiReadMe\n            },\n            \"araidb.json\": {\n                content: JSON.stringify(deletePrivateData(data), null, 2)\n            }\n        }\n    }\n    const result = await fetchRequest(`https://api.github.com/gists`, \"POST\", postData);\n    console.log(result)\n    accessor({ shareId: result.id });\n    getModal('#questionShared').open();\n}\n\nconst importFromGist = async (id, generateQuestion, pushFunc) => {\n    M.toast({ html: \"インポートしています...\" });\n    const fetchDataBase = async (id) => {\n        const gist = await fetchRequestWithNoCors(`https://api.github.com/gists/${id}`);\n        const database = gist === undefined ? undefined : gist === undefined ? \"{}\" : await fetchRequestWithNoCors(gist.files[\"araidb.json\"].raw_url);\n        return { gist, database };\n    }\n    try {\n        const { gist, database } = await fetchDataBase(id);\n        const qId = generateQuestion(database);\n        pushFunc(`/q/${qId}`);\n        M.toast({ html: `${database.title}を読み込みました．` });\n\n    } catch (e) {\n    M.toast({ html: \"読み込みに失敗しました(IDが間違っている可能性があります)\" });\n    console.error(e);\n    }\n\n    try {\n        getModal('#importLink').close();\n        getModal('#questions').close();\n    } catch (e) {\n    }\n    return\n\n}\n\nconst deletePrivateData = (objectArg) => {\n    const object = JSON.parse(JSON.stringify(objectArg))\n    delete object.user;\n    delete object.db;\n    delete object.backupData;\n    delete object.signInCheck;\n    delete object.signedIn;\n    delete object.shareId;\n    return object;\n}\n\nexport { githubSync, generateQuestionGist, importFromGist };","const cookieParser = () => (document.cookie.split(\";\")\n    .map(cookie => ({\n        key: cookie.split(\"=\")[0].trim(),\n        value: cookie.split(\"=\")[1]?.trim()\n    })));\n\nexport { cookieParser };","const firebaseConfig = {\n    apiKey: \"AIzaSyA7HFGP_a8SwQd6DYXP6hBcFHm6rBHI_ek\",\n    authDomain: \"araiapp.firebaseapp.com\",\n    projectId: \"araiapp\",\n    storageBucket: \"araiapp.appspot.com\",\n    messagingSenderId: \"560620256673\",\n    appId: \"1:560620256673:web:c3886d9a102209c79fdfe0\",\n    measurementId: \"G-NE4MP5WTP2\"\n};\n\nexport default firebaseConfig;","import firebase from 'firebase/app';\nimport \"firebase/firestore\";\nimport \"firebase/auth\";\nimport key from \"./key\";\n\nfirebase.initializeApp(key);\n\nexport const db = firebase.firestore();\nexport default firebase;","import M from 'materialize-css';\nimport { Button, Icon, Row } from \"react-materialize\";\nconst getModal = (name) => (M.Modal.getInstance(document.querySelector(name)))\n\nconst NotFound = (props) => {\n    return (\n        <div>\n            <h4 className=\"header center\">問題が見つかりませんでした</h4>\n            <Row className=\"center\">\n                <Button waves=\"light\" className=\"orange\" onClick={() => getModal(\"#questions\").open()}><Icon left>edit</Icon>別の問題を開く</Button>,\n                </Row>\n                <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />\n        </div>\n    )\n}\nexport default NotFound;","import { isMobile } from \"react-device-detect\"\nimport M from 'materialize-css';\nimport { Button, SideNavItem, Icon, SideNav } from \"react-materialize\"\nimport firebase from \"../../Firebase\";\nimport { cookieParser } from \"../../functions/cookie\";\nimport { githubSync } from \"../../functions/backup\";\n\nconst getSideNav = (name) => (M.Sidenav.getInstance(document.querySelector(name)))\nconst openAccountMenu = () => {\n    if (isMobile) {\n        getSideNav(\"#accounts-pc\").open();\n\n    } else {\n        getSideNav(\"#accounts-pc\").open();\n    }\n}\n\n\nconst loginGitHub = (props) => {\n    const provider = new firebase.auth.GithubAuthProvider();\n    provider.addScope('gist');\n    provider.setCustomParameters({\n        'allow_signup': 'true'\n    });\n    firebase\n        .auth()\n        .signInWithPopup(provider)\n        .then((result) => {\n            /** @type {firebase.auth.OAuthCredential} */\n            const credential = result.credential;\n\n            // This gives you a GitHub Access Token. You can use it to access the GitHub API.\n            const token = credential.accessToken;\n            document.cookie = `GITHUB_TOKEN=${token};secure`;\n            M.toast({ html: \"GitHubでログインしました\" });\n            result.user.loginProblem = false;\n            props.setState({\n                signInCheck: true,\n                signedIn: true,\n                user: result.user\n            })\n            githubSync(props.state, props.setState, true, true);\n            // The signed-in user info.\n            const user = result.user;\n            window.reload();\n            // ...\n        }).catch((error) => {\n            // Handle Errors here.\n            var errorCode = error.code;\n            var errorMessage = error.message;\n            // The email of the user's account used.\n            var email = error.email;\n            // The firebase.auth.AuthCredential type that was used.\n            var credential = error.credential;\n            // ...\n        });\n}\n\n\nconst Accounts = (props) => {\n    const menuData = {\n        user: {\n            background: 'https://placeimg.com/640/480/ocean',\n            email: props.state.signedIn ? props.state.user.email : 'jdandturk@gmail.com',\n            image: props.state.signedIn ? props.state.user.photoURL : 'https://github.com/github.png',\n            name: props.state.signedIn ? props.state.user.displayName : '未ログイン'\n        },\n        menu: [\n            !(props.state.signedIn && !props.state.user.loginProblem) ? ({\n                icon: \"cloud\",\n                content: \"GitHubでログイン(β)\",\n                onClick: () => {\n                    const result = window.confirm('**この機能はベータ版です**\\n\\nGitHub Gistsに問題を同期します．ベータ版ですので，バックアップが上手く動作しない可能性があります．必ずご自身でもバックアップを取るようお願いします．\\n\\nログインが完了すると，自動的にバックアップが開始します．よろしいですか？');\n\n                    if (result) {\n                        loginGitHub(props);\n                    } else {\n                        M.toast({ html: \"ログインはキャンセルされました\" })\n                    }\n                },\n                href: \"#login\"\n            }) : ({\n                icon: \"logout\",\n                content: \"ログアウト\",\n                onClick: () => {\n                    M.toast({ html: \"ログアウトしました\" })\n                    firebase.auth().signOut();\n                    document.cookie = `GITHUB_TOKEN=; expires=` + (new Date('1999-12-31T23:59:59Z')).toUTCString();\n                    props.accessor({\n                        user: undefined,\n                        signedIn: false\n                    })\n                }\n\n            })\n        ]\n    }\n    return (\n        <div>\n            <SideNav\n                id=\"accounts-pc\"\n                options={{\n                    draggable: true\n                }}\n                trigger={<></>}\n            >\n\n                <SideNavItem\n                    user={menuData.user}\n                    userView\n                />\n                {menuData.menu.map((v, k) => (<SideNavItem\n                    key={k}\n                    href={v.href}\n                    icon={<Icon>{v.icon}</Icon>}\n                    onClick={v.onClick}\n                >\n                    {v.content}\n                </SideNavItem>))}\n\n                {/* <SideNavItem href=\"#!second\">\n                    Second Link\n                </SideNavItem>\n                <SideNavItem divider />\n                <SideNavItem subheader>\n                    Subheader\n                </SideNavItem>\n                <SideNavItem\n                    href=\"#!third\"\n                    waves\n                >\n                    Third Link With Waves\n                </SideNavItem> */}\n            </SideNav>\n        </div>\n    )\n}\n\nexport default Accounts\nexport { openAccountMenu }","import { Button, Card, Row, Col, Container, Section, TextInput } from 'react-materialize';\nimport { BrowserRouter as Router, Route, Switch, withRouter } from 'react-router-dom';\nimport Header from './components/Header/Header';\nimport Footer from \"./components/Footer/Footer\";\nimport React from 'react';\nimport Dashboard from './components/Dashboard/Dashboard';\nimport Top from './components/Top/Top';\nimport Questions from './components/Questions/Questions';\nimport Accounts from \"./components/Accounts/Accounts\";\nimport { openAccountMenu } from \"./components/Accounts/Accounts\";\nimport Play from './components/Play/Play';\nimport moment from \"moment\"\nimport NotFound from './components/NotFound/NotFound';\nimport ModalCollection from './components/ModalCollection/ModalCollection';\nimport \"./css/materialize.min.css\";\nimport \"./css/materialIcon.css\";\n\nimport { githubSync } from \"./functions/backup\";\nimport firebase from \"./Firebase\";\nimport Auth from './Auth';\nimport { cookieParser } from \"./functions/cookie\";\nconst merge = require('deepmerge');\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    const data = JSON.parse(window.localStorage.getItem(\"data\"));\n    this.state = data !== null ? data : {};\n  }\n\n  componentDidMount() {\n    this.setState({\n      signInCheck: false,\n      signedIn: false,\n    })\n    setInterval(() => {\n      window.localStorage.setItem(\"data\", JSON.stringify(this.state));\n    }, 5000)\n    setInterval(() => {\n      const setState = this.setState.bind(this);\n      //console.log(\"呼びます\")\n      githubSync(this.state, setState);\n    }, 10000)\n  }\n\n  accessor = (state, id = this.props.currentId) => {\n    const keyName = `question_${id}`;\n    //console.log(state);\n    const question = this.state[keyName];\n    if (question === undefined) return false;\n    this.setState({\n      [keyName]: merge(\n        (this.state[keyName] === undefined ? {} : this.state[keyName]),\n        state,\n        { arrayMerge: (destinationArray, sourceArray, options) => sourceArray }\n      )\n    })\n  }\n\n  generateQuestion = (json = false) => {\n    const genId = () => {\n      const number = Math.random();\n      number.toString(36);\n      return number.toString(36).substr(2, 5);\n    };\n    const id = genId();\n    this.setState({\n      [`question_${id}`]: {\n        title: !json ? \"無題のクイズ\" : json.title,\n        description: !json ? moment().format(\"YYYY/MM/DD HH:mm:ssのクイズ\") : json.description,\n        id,\n        questions: [],\n        shuffleOptions: false,\n        shuffleQuestions: false,\n        hardMode: false,\n        challengeJson: json,\n        manualScrolling: false\n      }\n    })\n    return id;\n  }\n\n\n  render = () => {\n    const setState = this.setState.bind(this);\n    global.dumpAll = () => JSON.stringify(this.state);\n    return (\n      <div className=\"App\">\n        <Auth setState={(state) => this.setState(state)} onLoggedIn={() => { githubSync(this.state, setState, true, true) }} />\n        <Router basename={process.env.PUBLIC_URL}>\n          <Header openAccountMenu={openAccountMenu} state={this.state} accessor={(state) => this.setState(state)} />\n          <Accounts state={this.state} accessor={(state) => this.setState(state)} />\n          <Switch>\n            <Route exact path=\"/\" render={() => <Top />} />\n            <Route exact path=\"/q/:id/play\"\n              render={(props) => <Play\n                key={props.match.params.id}\n                state={this.state[`question_${props.match.params.id}`]}\n                accessor={(state) => this.accessor(state, props.match.params.id)}\n                baseAccessor={this.setState}\n              />} />\n            <Route exact path=\"/q/:id\"\n              render={(props) => <Dashboard\n                key={props.match.params.id}\n                state={this.state[`question_${props.match.params.id}`]}\n                baseState={this.state}\n                accessor={(state) => this.accessor(state, props.match.params.id)}\n                baseAccessor={(state) => this.setState(state)}\n              />} />\n            <Route render={() => <NotFound />} />\n          </Switch>\n          <Questions generateQuestion={this.generateQuestion} state={this.state} baseAccessor={(state) => this.setState(state)} />\n          <ModalCollection state={this.state} generateQuestion={this.generateQuestion} />\n        </Router>\n        {/*  <Footer /> */}\n      </div >\n    )\n  };\n}\n\nexport default withRouter(App);\n","import M from 'materialize-css';\nimport { Button, Col, Icon, Preloader, Row } from 'react-materialize';\nimport { Link, withRouter } from \"react-router-dom\"\nimport {cookieParser} from \"../../functions/cookie\";\nconst getModal = (name) => (M.Modal.getInstance(document.querySelector(name)))\nconst Header = (props) => {\n    console.log(props.state.signedIn)\n    return (\n        <nav className=\"light-blue lighten-1\" role=\"navigation\">\n            <div className=\"nav-wrapper container\"><Link id=\"logo-container\" /* to=\"/\" */ className=\"brand-logo\">ARAI</Link>\n                <ul className=\"right hide-on-med-and-down\">\n                    <li><Button waves=\"light\" flat className=\"white-text\" onClick={() => getModal(\"#questions\").open()}>問題集</Button></li>\n                    <li>\n                        <Button className=\"flat\" flat onClick={() => props.openAccountMenu()}><Row className=\"\" style={{ height: \"100%\" }}>\n                            <Col s={6} className=\"\" style={{ height: \"100%\" }}>\n                                <div className=\"\">\n                                    {\n                                        props.state.signedIn ?\n                                            (!props.state.user.loginProblem ?\n                                                <img className=\"circle\" src={props.state.user?.photoURL} width={\"30px\"} /> :\n                                                <Icon className=\"yellow-text darken-3\">warning</Icon>) :\n                                            <Icon>account_circle</Icon>\n                                    }\n                                </div>\n                            </Col>{/* <Col s={6} className=\"valign-wrapper\" style={{ height: \"100%\" }}>\n                                <div style={{ height: \"40px\" }}>\n                                    <Preloader\n                                        className=\"\"\n                                        active\n                                        color=\"blue\"\n                                        flashing={false}\n                                        size=\"small\"\n                                    />\n                                </div>\n                            </Col> */}\n                        </Row></Button>\n                    </li>\n                </ul>\n\n                <ul id=\"nav-mobile\" className=\"sidenav\">\n                    <li><Button waves=\"light\" flat className=\"white-text\" onClick={() => getModal(\"#questions\").open()}>問題集</Button></li>\n                </ul>\n                <Link onClick={() => getModal(\"#questions\").open()} flat data-target=\"nav-mobile\" className=\"sidenav-trigger white-text\"><i className=\"material-icons\">menu</i></Link>\n            </div>\n        </nav>\n    )\n}\nexport default withRouter(Header)","import { isMobile } from \"react-device-detect\";\nimport { Button, Card, Col, Container, Icon, Modal, Row, Section } from \"react-materialize\";\nimport M, { Toast } from \"materialize-css\"\nimport { withRouter } from \"react-router\";\nimport { Link } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport { importFromGist } from \"../../functions/backup\";\n\nconst Questions = (props) => {\n    useEffect(() => {\n        const queryParams = props.location.search.substr(1).split(\"&\").map((item) => ({ key: item.split(\"=\")[0], value: item.split(\"=\")[1] }))\n        const importId = queryParams.find(item => item.key === \"importId\")?.value;\n        if(importId !== undefined){\n            importFromGist(importId, props.generateQuestion, (q) => props.history.push(q));\n        }\n    }, [])\n    const getModal = (name) => (M.Modal.getInstance(document.querySelector(name)))\n\n    const requestQuestion = (props, questions) => {\n        getModal(\"#questions\").close();\n        if (questions.length == 0)\n            getModal(\"#dataWarn\").open();\n        const id = props.generateQuestion();\n        console.log(props.history)\n        props.history.push(`/q/${id}`);\n    }\n    const [deleteTarget, setDeleteTarget] = useState(false);\n    const queryParams = props.location.search.substr(1).split(\"&\").map((item) => ({ key: item.split(\"=\")[0], value: item.split(\"=\")[1] }))\n    const importId = queryParams.find(item => item.key === \"importId\")?.value;\n    const questions = Object.keys(props.state).filter(key => (/^question_(.*)$/).test(key) && props.state[key] !== undefined).map(key => (props.state[key]));\n    return (\n        <div>\n            <Modal\n                id='questions'\n                header='問題を選択...'\n                fixedFooter={true}\n                actions={[\n                    <Button flat waves=\"light\" className=\"orange-text\" onClick={() => {\n                        requestQuestion(props, questions);\n                    }}><Icon left>edit</Icon>新規作成</Button>,\n                    <Button waves=\"light\" flat onClick={() => {\n                        getModal(\"#importLink\").open()\n                    }}><Icon left>link</Icon>IDからインポート</Button>,\n                    <Button flat waves=\"light\" onClick={() => getModal(\"#questions\").close()}>CLOSE</Button>\n                ]}\n                bottomSheet={isMobile}>\n                <Row>\n                    {questions.map((question, k) => (\n                        <Col key={k} l={4} m={6} s={12}>\n                            <Card\n                                actions={[\n                                    <Link key=\"play\" to={`/q/${question.id}/play`} onClick={() => getModal(\"#questions\").close()}><Icon>play_arrow</Icon></Link>,\n                                    <Link key=\"edit\" to={`/q/${question.id}`} onClick={() => getModal(\"#questions\").close()}><Icon>edit</Icon></Link>,\n                                    <Link key=\"delete\" onClick={() => {\n                                        setDeleteTarget(question);\n                                        getModal(\"#deleteWarn\").open();\n                                    }}><Icon>delete</Icon></Link>,\n                                ]}\n                                className=\"\"\n                                closeIcon={<Icon>close</Icon>}\n                                revealIcon={<Icon>more_vert</Icon>}\n                                /* textClassName=\"white-text\" */\n                                title={question.title}\n                            >{question.description}</Card>\n                        </Col>\n                    ))}\n                    {questions.length === 0 ? (<Section>\n                        <Container>\n                            <h4 className=\"header center\">問題がまだありません</h4>\n                            <Row className=\"center\">\n                                <Button waves=\"light\" className=\"orange\" onClick={() => {\n                                    requestQuestion(props, questions)\n                                }}><Icon left>edit</Icon>新規作成</Button>\n                            </Row>\n                        </Container>\n                    </Section>) : null}\n\n                </Row>\n\n            </Modal>\n            <Modal\n                id='deleteWarn'\n                header='問題を消します'\n                bottomSheet={isMobile}\n                actions={[\n                    <Button flat waves=\"light\" onClick={() => getModal(\"#deleteWarn\").close()}>キャンセル</Button>,\n                    <Button flat waves=\"light\" className=\"red-text\" onClick={() => {\n                        props.baseAccessor({\n                            [`question_${deleteTarget.id}`]: undefined\n                        });\n                        getModal(\"#deleteWarn\").close();\n\n                    }}><Icon left>delete</Icon>完全に消す</Button>,\n                ]}\n                bottomSheet={isMobile}>\n                <Row>\n                    以下の問題を消します．本当によろしいですか？<br />\n                    <Col m={6} s={12}>\n                        <Card\n                            title={deleteTarget.title}\n                        >{deleteTarget.description}</Card>\n                    </Col>\n                </Row>\n            </Modal>\n            <Modal\n                id='dataWarn'\n                header='データの取扱に関する注意'\n                bottomSheet={isMobile}>\n                このWebアプリでは，ユーザーが作成した問題をクラウドではなくブラウザに保存します(localStorage)．ユーザーが作成したクイズがサーバーに送られることは(現時点では)ありません．<br /><span className=\"red-text\" >このWebアプリはまだベータ版です．</span>データが飛びやすいので必ず自身でバックアップを取ってください．<br />当Web AppではGoogle Analyticsを使用しています．\n            </Modal>\n        </div>\n    )\n}\nexport default withRouter(Questions);","import React from \"react\";\nimport M from \"materialize-css\";\nimport { Button, Checkbox, Col, Container, Icon, Modal, ProgressBar, RadioGroup, Row, Section, Table, TextInput } from \"react-materialize\"\nimport { withRouter } from \"react-router\";\nimport NotFound from \"../NotFound/NotFound\";\nimport { isMobile } from \"react-device-detect\";\nimport { Link } from \"react-router-dom\";\nimport { CircularProgressbar } from 'react-circular-progressbar';\nimport 'react-circular-progressbar/dist/styles.css';\nimport { Tex, InlineTex } from 'react-tex';\n\nconst successMessages = [\n    \"Well done!\",\n    \"Nailed it!\",\n    \"You got it!\",\n    \"Nice work!\",\n    \"Fantastic!\",\n    \"Excellent!\",\n    \"Brilliant!\",\n    \"Amazing!\",\n    \"Superb!\",\n    \"Cool!\",\n    \"Good job!\",\n    \"You’re getting better!\",\n    \"You’re improving!\",\n    \"よくできました！\",\n    \"さすが！\",\n    \"超世紀誕生 ぱんぱかぱーん\",\n    \"♪〜(ここでじょいふるが流れる)\",\n    //\"年収1000万エンジニア！\",\n    \"Happy hacking!\",\n    \"脳へのインストールが正常に進行しています...\",\n    \"もしかして: 天才\",\n    \"あなた「完全に理解した」\",\n    \"あなたには楽勝過ぎましたね！\",\n    \"Awesome!\",\n]\n\nconst encourageMessages = [\n    \"よく確認してみよう\",\n    \"おっと？\",\n    \"惜しい！\",\n    \"むむ？\",\n    \"...！\",\n]\n\nconst arrayRandom = (array) => array[Math.floor(Math.random() * array.length)];\nconst getModal = (name) => (M.Modal.getInstance(document.querySelector(name)))\n\nclass Play extends React.Component {\n    constructor(props) {\n        super(props);\n\n        console.log(props)\n        if (this.props.state !== undefined) {\n            if (this.props.state.questions.length <= 0) {\n                console.log(this.props.history)\n                setTimeout(() => {\n                    this.props.history.replace(`/q/${this.props.state.id}`);\n                    getModal('#noQuestions').open();\n                }, 1)\n                //M.Modal.getInstance(document.querySelector('#questions')).open()\n            }\n        }\n        const questions = props.state.questions.slice()\n        this.state = {\n            questions: (props.state.shuffleQuestions ? this.shuffle(questions) : questions).map(question => ({\n                answers: (props.state.shuffleOptions ? this.shuffle(question.answers) : question.answers)\n                    .map((option, k) => ((option.selected = false, option.key = k), option))\n                    .filter(option => !this.props.state.hardMode || option.answer),\n                title: question.title,\n                answered: false,\n                correct: false,\n            })),\n            currentIndex: 0,\n            disabledNext: false,\n            emptyWarn: false\n        }\n        console.log(this.state.questions)\n    }\n    shuffle = (array) => {\n        let currentIndex = array.length, temporaryValue, randomIndex;\n        while (0 !== currentIndex) {\n            randomIndex = Math.floor(Math.random() * currentIndex);\n            currentIndex -= 1;\n            temporaryValue = array[currentIndex];\n            array[currentIndex] = array[randomIndex];\n            array[randomIndex] = temporaryValue;\n        }\n        return array;\n    }\n\n    regenerateQuiz = (onlyFailed = false) => {\n        const questions = JSON.parse(JSON.stringify(this.state.questions.filter(question => !onlyFailed || !question.correct)))\n        console.log(\"answer: \", this.props.state.hardMode);\n        this.setState({\n            questions: (this.props.state.shuffleQuestions ? this.shuffle(questions) : questions).map(question => ({\n                answers: (this.props.state.shuffleOptions ? this.shuffle(question.answers) : question.answers)\n                    .map((option, k) => (((option.selected = false, option.key = k), option.insert = \"\"), option))\n                    .filter(option => !this.props.state.hardMode || option.answer),\n                title: question.title,\n                answered: false,\n                correct: false,\n                checkCorrect: false\n            })),\n            currentIndex: 0,\n            disabledNext: false,\n            emptyWarn: false\n        })\n    }\n\n\n\n    checkAnswer = (currentQuestion, forceCorrect = false) => {\n        this.setState({\n            emptyWarn: false\n        });\n        if (currentQuestion.answered && !currentQuestion.checkCorrect) {\n            this.setState({\n                currentIndex: this.state.currentIndex + 1,\n                emptyWarn: false\n            })\n            return;\n        }\n        const questions = this.state.questions;\n        const question = questions[this.state.currentIndex];\n        if (currentQuestion.answers.length <= 1) {\n            //記述式\n            console.log(this.props.state.manualScoring)\n            if (!question.checkCorrect && this.props.state.manualScoring && this.state[`answer_${0}`] !== String(currentQuestion.answers[0].title)) {\n                //自己採点モード\n                question.checkCorrect = true;\n                question.answered = true;\n                console.log(this.state[`answer_${0}`])\n                if (this.state[`answer_${0}`] === undefined || this.state[`answer_${0}`] === \"\") {\n                    this.setState({ answer_0: \"(自己採点)\" });\n                }\n                return;\n            } else {\n                question.checkCorrect = false;\n                if (this.state[`answer_${0}`] === \"\" || this.state[`answer_${0}`] === undefined) {\n                    console.log(\"\")\n                    this.setState({\n                        emptyWarn: true\n                    })\n                    return;\n                }\n                const targetOption = question.answers[0];\n                if (forceCorrect || this.state[`answer_${0}`] === String(currentQuestion.answers[0].title)) {\n                    targetOption.selected = true;\n                    targetOption.insert = this.state[`answer_${0}`];\n                    question.answered = true;\n                    question.correct = true;\n                } else {\n                    targetOption.insert = this.state[`answer_${0}`];\n                    question.answered = true;\n                    question.correct = false;\n                }\n            }\n        } else if (currentQuestion.answers.filter(answer => answer.answer).length <= 1) {\n            //選択\n            console.log(this.state[`answer_${0}`])\n            if (this.state[`answer_${0}`] === \"\" || this.state[`answer_${0}`] === undefined) {\n                this.setState({\n                    emptyWarn: true\n                })\n                return;\n            }\n            const targetOption = question.answers.find(answer => answer.answer);\n            question.answers.find(answer => String(answer.title) === this.state[`answer_${0}`]).selected = true;\n            if (String(this.state[`answer_${0}`]) === targetOption.title) {\n                console.log(String(this.state[`answer_${0}`]));\n                console.log(targetOption.title)\n                targetOption.selected = true;\n                question.answered = true;\n                question.correct = true;\n            } else {\n                question.answered = true;\n                question.correct = false;\n            }\n        } else {\n            //複数選択\n            for (const [key, value] of Object.entries(question.answers)) {\n                value.selected = (this.state[`answer_${key}`] === true);\n                console.log(value);\n            }\n            console.log(question.answers[1])\n            question.correct = question.answers.every(answer => answer.answer === answer.selected);\n            question.answered = true;\n        }\n\n        const result = {}\n        for (let i = 0; i < currentQuestion.answers.length; i++) {\n            result[`answer_${i}`] = \"\";\n        }\n        result.questions = questions\n        this.setState(result);\n    }\n\n    goBack = () => {\n        this.setState({\n            currentIndex: this.state.currentIndex - 1,\n            emptyWarn: false\n        })\n    }\n\n    render() {\n        if (this.props.state === undefined) {\n            return (<NotFound />)\n        }\n        const currentQuestion = this.state.questions[this.state.currentIndex];\n        return (<Section>\n            <Container>\n                <Row>\n                    <Col offset=\"m2\" m={8} s={12}>\n                        <Row>\n                            <Col s={6}>\n                                <h6>{this.props.state.title} (<Link onClick={() => getModal(\"#backToEdit\").open()}>編集</Link>)</h6>\n\n                            </Col>\n                            {(this.state.currentIndex < this.state.questions.length) ? <Col s={6}>\n                                <h6 className=\"right-align\">{this.state.currentIndex + 1} / {this.state.questions.length} 問目</h6>\n                            </Col> : null}\n                        </Row>\n                        <Row>\n                            <Col s={2}>\n                                {this.state.currentIndex > 0 ? <Button className=\"light-blue\" onClick={() => this.goBack()}>\n                                    <Icon>arrow_back</Icon>\n                                </Button> : null}\n                            </Col>\n                            <Col s={8} className=\"right-align\">\n                                <ProgressBar progress={this.state.currentIndex * 100 / this.state.questions.length} />\n                            </Col>\n                            <Col s={2} className={\"right-align\"}>\n                                {this.state.currentIndex < this.state.questions.length ? <Button\n                                    onClick={() => this.checkAnswer(currentQuestion)}\n                                    disabled={currentQuestion.checkCorrect}\n                                    className={(currentQuestion.answered ? \"light-blue\" : \"orange\") + \" right-align \" + (this.state.currentIndex <= 0 ? \"pulse\" : \"\")}\n                                >\n                                    <Icon>{currentQuestion.answered ? (\"arrow_forward\") : \"check\"}</Icon>\n                                    {/* {\">\"} */}\n                                </Button> : null}\n                            </Col>\n                        </Row>\n                        {(this.state.currentIndex < this.state.questions.length) ? <div>\n\n                            <h4><InlineTex texContent={currentQuestion.title} /></h4>\n                            {currentQuestion.correct ? <h5 className=\"light-green-text\"><Icon left>check</Icon>{arrayRandom(successMessages)}</h5> : null}\n                            {!currentQuestion.checkCorrect && currentQuestion.answered && !currentQuestion.correct ? <h5 className=\"red-text\"><Icon left>close</Icon>{arrayRandom(encourageMessages)}</h5> : null}\n                            {this.state.emptyWarn ? <h6 className=\"red-text\">白紙で提出しないでください！</h6> : null}\n                            {currentQuestion.answers.length <= 1 ? currentQuestion.answers.map((answer, k) => (\n\n                                <Row className={currentQuestion.checkCorrect ? \"\" : (answer.answer && answer.selected ? \"green lighten-4\" : (answer.selected || (currentQuestion.answers.length <= 1 && currentQuestion.answered) ? \"red lighten-4\" : \"\"))}>\n                                    <Col s={12} >\n                                        {this.props.state.manualScoring ? <p>(自己採点モードのため白紙でもOKです)</p> : null}\n                                        <TextInput\n                                            id={`answer_${k}`}\n                                            label={\"回答をここに書いてください\"}\n                                            className=\"black-text\"\n                                            disabled={currentQuestion.answered}\n                                            onChange={(e) => this.setState({ [`answer_${k}`]: e.target.value })}\n                                            value={!currentQuestion.answered || currentQuestion.checkCorrect ? this.state[`answer_${k}`] : answer.insert}\n                                        />\n                                    </Col>\n                                    {currentQuestion.answered ? <Col\n                                        s={12}\n                                        className={\n                                            answer.answer && answer.selected ?\n                                                \"green-text\" : (\n                                                    answer.selected ||\n                                                        (currentQuestion.answers.length <= 1 && currentQuestion.answered) ?\n                                                        \"red-text\" : \"\")}>\n                                        <Row><Col s={12}>答: <InlineTex texContent={String(answer.title)} /></Col></Row>\n                                    </Col> : null}\n                                    {currentQuestion.checkCorrect ? <Col\n                                        s={12}>\n                                        <h6>答えはあっていましたか？</h6><br />\n                                        <Row>\n                                            <Col s={6} m={4} offset=\"m2\" className=\"align-center\">\n                                                <Button className=\"white green-text\" onClick={() => this.checkAnswer(currentQuestion, true)}>\n                                                    <Icon left>check</Icon>正解\n                                                </Button>\n                                            </Col>\n                                            <Col s={6} m={4} className=\"align-center\">\n                                                <Button className=\"white red-text\" onClick={() => this.checkAnswer(currentQuestion, false)}>\n                                                    <Icon left>close</Icon>不正解\n                                                </Button>\n                                            </Col>\n                                            <Col s={12} m={4} offset=\"m2\">\n\n                                            </Col>\n                                        </Row>\n                                    </Col> : null}\n                                </Row>\n                            )) : currentQuestion.answers.filter(answer => answer.answer).length <= 1 ? <Row>\n                                {currentQuestion.answers.map((answer, k) => [\n                                    <p key={k} className={answer.answer && answer.selected ? \"green lighten-4\" : (answer.selected || (currentQuestion.answers.length <= 1 && currentQuestion.answered) ? \"red lighten-4\" : \"\")}>\n                                        <label>\n                                            <input\n                                                name=\"answer-group\"\n                                                className=\"with-gap\"\n                                                onChange={(e) => this.setState({ [`answer_${0}`]: e.target.value })}\n                                                type=\"radio\"\n                                                id={`answer_${k}`}\n                                                disabled={currentQuestion.answered}\n                                                value={String(answer.title)}\n                                                checked={!currentQuestion.answered ? this.state[`answer_${0}`] === String(answer.title) : answer.selected}\n                                            />\n                                            <span><InlineTex texContent={String(answer.title)} />{answer.answer && currentQuestion.answered ? <Icon>check</Icon> : null}</span>\n                                        </label>\n                                    </p>\n                                ])}\n                            </Row> : <Row>\n                                {currentQuestion.answers.map((answer, k) => [\n                                    <p key={k} className={(currentQuestion.correct && answer.answer) ? \"green lighten-4\" : ((currentQuestion.answered && !currentQuestion.correct && (answer.answer !== answer.selected)) ? \"red lighten-4\" : \"\")}>\n                                        <label>\n                                            <Checkbox\n                                                checked={!currentQuestion.answered ? this.state[`answer_${k}`] : answer.selected}\n                                                onChange={(e) => this.setState({ [`answer_${k}`]: e.target.checked })}\n                                                filledIn\n                                                id={`answer_${k}`}\n                                                value={String(answer.title)}\n                                                label={String(answer.title)}\n                                                disabled={currentQuestion.answered}\n                                            />{currentQuestion.answered && answer.answer ? <Icon>check</Icon> : null}\n                                        </label>\n                                    </p>\n                                ])}\n                            </Row>}</div> : <div>\n                            <Row>\n                                <Col s={8}>\n                                    <h2 className=\"green-text\"><Icon medium left>check</Icon>お疲れ様！</h2>\n                                </Col>\n                                <Col s={4}>\n                                    <CircularProgressbar value={Math.round(this.state.questions.filter(question => question.correct).length * 100 / this.state.questions.length)}\n                                        text={`${Math.round(this.state.questions.filter(question => question.correct).length * 100 / this.state.questions.length)}%`} />\n                                    <h5 className=\"center\">{this.state.questions.filter(question => question.correct).length} / {this.state.questions.length}</h5>\n                                </Col>\n                            </Row>\n                            <Table>\n                                <thead>\n                                    <tr>\n                                        <th data-field=\"question\">\n                                            問題\n                                        </th>\n                                        <th data-field=\"your-answer\">\n                                            あなたの回答\n                                        </th>\n                                        <th data-field=\"right-answer\">\n                                            正解\n                                        </th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {this.state.questions.map((question, k) => <tr key={k}>\n                                        <td className={question.correct ? \"green-text\" : \"red-text\"}>\n                                            <Icon left>{question.correct ? \"check\" : \"close\"}</Icon> <Link onClick={() => this.setState({ currentIndex: k })}>第{k + 1}問 </Link>\n                                        </td>\n                                        <td className={\"truncate \" + (question.correct ? \"green-text\" : \"red-text\")}>\n                                            {\n                                                question.answers.length <= 1 ? question.answers[0].insert :\n                                                    question.answers.filter(answer => answer.selected).map(answer => String(answer.title)).join(\", \")\n                                            }\n                                        </td>\n                                        <td className={\"truncate\"}>\n                                            {\n                                                question.answers.length <= 1 ? question.answers[0].title :\n                                                    question.answers.filter(answer => answer.answer).map(answer => String(answer.title)).join(\", \")\n                                            }\n                                        </td>\n                                    </tr>)}\n                                </tbody>\n                            </Table>\n                            <br /><br />\n                            <Row className=\"right-align\">\n                                <Button className=\"light-blue\" onClick={() => {\n                                    if (this.state.questions.filter(question => question.correct).length === this.state.questions.length) {\n                                        M.toast({ html: \"1つも間違えてないでしょw\" })\n                                    } else {\n                                        getModal('#retryFailedQuiz').open();\n                                    }\n                                }} style={{ marginRight: \"25px\" }}>間違えた問題だけやり直す</Button>\n                                <Button className=\"light-blue\" onClick={() => getModal('#retryQuiz').open()}>全部やり直す</Button>\n                            </Row>\n                        </div>}\n\n\n                    </Col>\n                </Row>\n            </Container>\n            <Modal\n                id='backToEdit'\n                header='ページを移動します'\n                bottomSheet={isMobile}\n                actions={[\n                    <Button flat waves=\"light\" onClick={() => getModal(\"#backToEdit\").close()}>キャンセル</Button>,\n                    <Button flat waves=\"light\" className=\"orange-text\" onClick={() => {\n                        this.props.history.push(`/q/${this.props.state.id}`);\n                        getModal(\"#backToEdit\").close()\n                    }}>編集へ移動</Button>,\n                ]}\n                bottomSheet={isMobile}>\n                <Row>\n                    現在の進捗は失われますがよろしいですか？\n                </Row>\n            </Modal>\n            <Modal\n                id='retryQuiz'\n                header='問題をやり直す'\n                bottomSheet={isMobile}\n                actions={[\n                    <Button flat waves=\"light\" onClick={() => getModal(\"#retryQuiz\").close()}>キャンセル</Button>,\n                    <Button flat waves=\"light\" className=\"orange-text\" onClick={() => {\n                        this.regenerateQuiz(false);\n                        getModal(\"#retryQuiz\").close()\n                    }}>LET'S GO</Button>,\n                ]}\n                bottomSheet={isMobile}>\n                <Row>\n                    現在の進捗は失われますがよろしいですか？\n                </Row>\n            </Modal>\n            <Modal\n                id='retryFailedQuiz'\n                header='間違えた問題をやり直す'\n                bottomSheet={isMobile}\n                actions={[\n                    <Button flat waves=\"light\" onClick={() => getModal(\"#retryFailedQuiz\").close()}>キャンセル</Button>,\n                    <Button flat waves=\"light\" className=\"orange-text\" onClick={() => {\n                        this.regenerateQuiz(true);\n                        getModal(\"#retryFailedQuiz\").close()\n                    }}>LET'S GO</Button>,\n                ]}\n                bottomSheet={isMobile}>\n                <Row>\n                    現在の進捗は失われますがよろしいですか？\n                </Row>\n            </Modal>\n        </Section>\n        )\n    }\n}\nexport default withRouter(Play);","import { Button, Col, Icon, Modal, Row, TextInput } from \"react-materialize\";\nimport { isMobile } from \"react-device-detect\";\nimport M from 'materialize-css';\nimport { importFromGist } from \"../../functions/backup\";\nimport { withRouter } from \"react-router-dom\";\nimport { useState } from \"react\";\nconst getModal = (name) => (M.Modal.getInstance(document.querySelector(name)))\n\nconst ModalCollection = (props) => {\n    const [importId, setImportId] = useState(\"\")\n    return (\n        <div>\n            <Modal\n                id='noQuestions'\n                header='問題が作成されていません'\n                bottomSheet={isMobile}>\n                問題を作成してください\n            </Modal>\n            <Modal\n                id='questionShared'\n                header='共有'\n                bottomSheet={isMobile}\n                fixedFooter={isMobile}\n                actions={[\n                    <Button flat waves=\"light\" onClick={() => getModal(\"#deleteWarn\").close()}>閉じる</Button>,\n                ]}\n                bottomSheet={isMobile}>\n                <Row>\n                    <p>問題を共有する準備ができました．以下のIDを共有したい相手に送信してください．もしくは，以下のリンクを教えると直接アクセスしてもらえるようになります．<br />\n                        <span className=\"red-text\">このウィンドウを閉じると表示できません．</span></p>\n                    <Row>\n                        <TextInput\n                            disabled\n                            s={12}\n                            id=\"id\"\n                            label=\"ID\"\n                            className=\"black-text\"\n                            value={props.state.shareId}\n                        />\n                        <TextInput\n                            disabled\n                            s={12}\n                            id=\"link\"\n                            label=\"リンク\"\n                            value={\"https://bonychops.github.io/arai/?importId=\" + props.state.shareId}\n                        />\n                    </Row>\n                </Row>\n            </Modal>\n            <Modal\n                id='importLink'\n                header='IDからインポート'\n                bottomSheet={isMobile}\n                fixedFooter={isMobile}\n                actions={[\n                    <Button waves=\"light\" className=\"orange\" onClick={() => {\n                        try{\n                            importFromGist(importId, props.generateQuestion, (q) => props.history.push(q));\n                        }catch(e){\n                            console.error(e);\n                            M.toast({html: \"読み込めませんでした．\"})\n                        }\n                    }}><Icon left>link</Icon>IDからインポート</Button>,\n                    <Button flat waves=\"light\" onClick={() => getModal(\"#deleteWarn\").close()}>閉じる</Button>\n                ]}\n                bottomSheet={isMobile}>\n                <Row>\n                    <p>インポートするIDを入力してください</p>\n                    <Row>\n                        <TextInput\n                            s={12}\n                            id=\"id\"\n                            label=\"ID\"\n                            onChange={(e) => setImportId(e.target.value)}\n                            value={importId}\n                        />\n                    </Row>\n                </Row>\n            </Modal>\n        </div>\n    )\n}\nexport default withRouter(ModalCollection);","import React from \"react\";\nimport firebase from \"./Firebase\";\nimport M from \"materialize-css\";\nimport {cookieParser} from \"./functions/cookie\";\n\nclass Auth extends React.Component {\n    constructor(state) {\n        super(state);\n    }\n\n\n    _isMounted = false;\n\n    componentDidMount = () => {\n\n        this._isMounted = true;\n\n\n        firebase.auth().onAuthStateChanged(user => {\n            if (user) {\n                if (this._isMounted) {\n                    const isProblem = cookieParser().find(cookie => cookie.key === \"GITHUB_TOKEN\") === undefined\n                    if (isProblem) {\n                        M.toast({ html: `<i class=\"material-icons left\">warning</i>ログインに問題があります` })\n                        user.loginProblem = isProblem\n                    } else {\n                        M.toast({ html: `GitHub: ${user.displayName}でログイン済` });\n                        this.props.onLoggedIn();\n                    }\n                    this.props.setState({\n                        signInCheck: true,\n                        signedIn: true,\n                        user\n                    });\n                }\n            } else {\n                if (this.props._isMounted) {\n                    this.props.setState({\n                        signInCheck: true,\n                        signedIn: false,\n                    });\n                }\n            }\n        })\n    }\n\n    componentWillUnmount = () => {\n        this._isMounted = false;\n    }\n\n    render() {\n        return (\n            null\n        )\n    }\n}\n\nexport default Auth;","export default __webpack_public_path__ + \"static/media/2.2b34912e.png\";","export default __webpack_public_path__ + \"static/media/1.0a828dac.png\";","export default __webpack_public_path__ + \"static/media/0.47afa453.png\";","import M from \"materialize-css\"\nimport { Button, Col, Container, Icon, Row, Section } from \"react-materialize\"\nimport Image1 from \"../../resources/2.png\";\nimport Image2 from \"../../resources/1.png\";\nimport Image3 from \"../../resources/0.png\";\nimport GithubIcon from \"../../resources/github.png\"\n\nconst Top = (props) => {\n    return (\n        <Section>\n            <Container>\n                <h1 className=\"header center orange-text\">ARAI</h1>\n                <Row className=\"center\">\n                    <h5 className=\"header col s12 light\">Artificially Randomized Arrangements of Issues</h5>\n                    <h6 className=\"header col s12 light\">反復学習で圧倒的成長💪</h6>\n                </Row>\n                <Row className=\"center\">\n                    <Button onClick={() => M.Modal.getInstance(document.querySelector('#questions')).open()} large waves=\"light\" className=\"orange\"><Icon left>edit</Icon>問題を選ぶ</Button>\n                </Row>\n                <h6 className=\"center\"><img src={GithubIcon} style={{height: \"16px\"}}/><a href=\"https://github.com/BonyChops/arai\" target=\"_blank\" rel=\"noopener noreferrer\">BonyChops/arai</a></h6>\n                <br />\n                <Row>\n                    <Col s={4} className=\"center\">\n                        <img src={Image1} style={{ width: \"80%\" }} />\n                    </Col>\n                    <Col s={4} className=\"center\">\n                        <img src={Image2} style={{ width: \"80%\" }} />\n                    </Col>\n                    <Col s={4} className=\"center\">\n                        <img src={Image3} style={{ width: \"80%\" }} />\n                    </Col>\n                </Row>\n            </Container>\n        </Section>\n    )\n}\nexport default Top;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEyQTk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNTE3OEEyQjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTI4OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTI5OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+m4QGuQAAAyRJREFUeNrEl21ojWEYx895TDPbMNlBK46IUiNmPvHBSUjaqc0H8pF5+aDUKPEBqU2NhRQpX5Rv5jWlDIWlMCv7MMSWsWwmb3tpXub4XXWdPHvc9/Gc41nu+nedc7/8r/99PffLdYdDPsvkwsgkTBwsA/PADJCnzX2gHTwBt8Hl7p537/3whn04XoDZDcpBlk+9P8AFcAghzRkJwPF4zGGw0Y9QS0mAM2AnQj77FqCzrtcwB1Hk81SYojHK4DyGuQ6mhIIrBWB9Xm7ug/6B/nZrBHBegrkFxoVGpnwBMSLR9EcEcC4qb8pP14BWcBcUgewMnF3T34VqhWMFkThLJAalwnENOAKiHpJq1FZgI2AT6HZtuxZwR9GidSHtI30jOrbawxlVX78/AbNfhHlomEUJJI89O2MqeE79T8/nk8nMBm/dK576hZgmA3cp/R4l9/UeSxiHLVIlNm4nFfT0bxyuIj7LHRTKai+zdJobwMKzcZSJb0ePV5PKN+BqAAKE47UlMnERELMM3EdYP/yrd+XYb2mOiYBiQ8OQnoRBlXrl9JZix7D1pHTazu4MoyBcnYamqAjIMTR8G4FT8LuhLsexXYYjICBiqhQBvYb6fLZIJCjPypVvaOoVAW2WcasCnL2Nq82xHJNSqlCeFcDshaPK0twkAhosjZL31QYw+1rlMpWGMArl23SBsZZO58F2tlJXmjOXS+s4WGvpMiBJT/I2PInZ6lIs9/hBsNS1hS6BG0DSqmYEDRlCXQrmy50P1oDRKTSegmNbUsA0zDMwRhPJXeCE3vWLPQMvan6X8AgIa1vcR4AkGZkDR4ejJ1UHpsaVI0g2LInpOsNFUud1rhxSV+fzC9Woz2EZkWQuja7/B+jUrgtIMpy9YCW4n4K41YfzRneW5E1KJTe4B2Zq1Q5EHEtj4U3AfEzR5SVY4l7QYQPJdN2as7RKBF0BPZqqH4VgMAMBL8Byxr7y8zCZiDlnOcEKIPmUpgB5Z2ww5RdOiiRiNajUmWda5IG6WbhsyY2fx6m8gLcoJDJFkH219M3We1+cnda93pfycZpIJEL/s/wSYADmOAwAQgdpBAAAAABJRU5ErkJggg==\"","export default __webpack_public_path__ + \"static/media/sample.a15d77bc.yml\";","import M from 'materialize-css';\nimport { Button, Card, Row, Col, Container, Section, TextInput, Tab, Tabs, Textarea, Toast, Modal, Icon, Switch } from 'react-materialize';\nimport React from \"react\";\nimport yaml from \"js-yaml\";\nimport sampleYaml from \"../../resources/sample.yml\";\nimport fetch from \"node-fetch\";\nimport { isMobile } from \"react-device-detect\";\nimport NotFound from '../NotFound/NotFound';\nimport { withRouter } from 'react-router';\nimport { generateQuestionGist } from '../../functions/backup';\n\n\nclass Dashboard extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            json: \"\",\n            yaml: {},\n            jsonBuffer: \"\",\n            yamlBuffer: \"\",\n            jsonRaw: \"\",\n            isJsonValid: true,\n            isYamlValid: true,\n            jsonMinify: false,\n            jsonEditable: false,\n            showMore: false,\n        }\n\n    }\n\n    componentDidMount = async () => {\n        if (this.props.state === undefined) {\n            return;\n        }\n        if (this.props.state.challengeJson !== false) {\n            console.log(\"Challenging\")\n            this.tryEditJson(JSON.stringify(this.props.state.challengeJson), true, true);\n            this.props.accessor({\n                challengeJson: false\n            })\n        } else {\n            if (this.props.state.questions.length <= 0) {\n                this.tryEditYaml(await (await fetch(sampleYaml)).text(), true, true);\n            } else {\n                console.log(\"generate\")\n                this.generateYaml();\n                this.generateJson();\n            }\n        }\n        //console.log(await (await fetch(sampleYaml)).text())\n        setTimeout((() => {\n            try{\n                M.textareaAutoResize(document.querySelector('textarea#json-editor'));\n                M.textareaAutoResize(document.querySelector('textarea#yaml-editor'));\n                console.log(\"fix\");\n            }catch(e){}\n        }), 500);\n        console.log(\"Finished\");\n    }\n\n\n\n    handleChange = (event, target, localChange = false) => {\n        //console.log(target)\n        const state = { [target]: (event.target.value) }\n        if (localChange) {\n            this.setState(state)\n        } else {\n            this.props.accessor(state);\n        }\n        this.generateJson({ [target]: (event.target.value) });\n    }\n\n    handleChangeBool = (event, target, localChange = false) => {\n        const state = { [target]: (event.target.checked) }\n        console.log(state);\n        //(localChange ? this.setState : this.props.accessor)();\n        if (localChange) {\n            this.setState(state)\n        } else {\n            this.props.accessor(state);\n        }\n        this.generateJson({ [target]: (event.target.checked) });\n    }\n\n    handleChangeToggle = (target, localChange = false) => {\n        const state = { [target]: !((localChange ? this.state : this.props.state)[target]) }\n        console.log(state)\n        //(localChange ? this.setState : this.props.accessor)({ [target]: !(localChange ? this.state : this.props.state)[target] });\n        if (localChange) {\n            this.setState(state)\n        } else {\n            this.props.accessor(state);\n        }\n        //this.generateJson(state);\n        M.textareaAutoResize(document.querySelector('textarea'));\n    }\n\n    handleKeyDown = (e, title, localChange = false) => {\n        if (e.key === 'Tab' && e.keyCode !== 229) {\n            e.preventDefault();\n            const textareaElement = e.target;\n            const currentText = textareaElement.value;\n            const start = textareaElement.selectionStart;\n            const end = textareaElement.selectionEnd;\n            const spaceCount = 4;\n            const substitution = Array(spaceCount + 1).join(' ');\n            const newText = currentText.substring(0, start) + substitution + currentText.substring(end, currentText.length);\n            if (localChange) {\n                this.setState({\n                    [title]: newText,\n                }, () => {\n                    textareaElement.setSelectionRange(start + spaceCount, start + spaceCount);\n                });\n            } else {\n                this.props.accessor({\n                    [title]: newText,\n                }, () => {\n                    textareaElement.setSelectionRange(start + spaceCount, start + spaceCount);\n                });\n            }\n\n        }\n    }\n\n\n    /*     tryEditJson = (event) => {\n            this.props.accessor({ jsonBuffer: event.target.value });\n            let json;\n            try {\n                json = JSON.parse(event.target.value);\n            } catch (e) {\n                this.props.accessor({ isJsonValid: false });\n            }\n            this.props.accessor({ isJsonValid: true });\n            this.props.accessor({ json });\n            this.props.accessor(json);\n        } */\n    tryEditJson = (event, check = false, loadDefault = false) => {\n        const target = loadDefault ? event : event.target.value;\n        this.setState({ jsonBuffer: target });\n        console.log(target);\n        if (!check) {\n            return;\n        }\n        let json;\n        try {\n            json = JSON.parse(target);\n            console.log(target);\n            console.log(json);\n            console.log(\"Valid\")\n        } catch (e) {\n            console.log(\"Not Valid\")\n            this.setState({ isJsonValid: false });\n            return;\n        }\n        this.deleteOptions(json);\n\n        console.log(json);\n        this.setState({ isJsonValid: true });\n        this.setState({ json });\n        this.props.accessor(json);\n        try {\n            this.generateYaml(json.questions);\n        } catch (e) {\n            console.error(\"Failed to generateYaml\", e)\n        }\n    }\n\n    tryEditYaml = (event, check = false, loadDefault = false) => {\n        const yamlBuffer = !loadDefault ? event.target.value : event;\n\n        this.setState({ yamlBuffer });\n        if (!check) {\n            return;\n        }\n        let yamlData;\n        M.textareaAutoResize(document.querySelector('textarea'));\n        console.log(\"TRY\")\n        try {\n            yamlData = yaml.load(yamlBuffer);\n            if (!(typeof yamlData === 'object' && yamlData !== null && !Array.isArray(yamlData))) {\n                throw new Error(\"Incorrect Type\");\n            }\n        } catch (e) {\n            this.setState({ isYamlValid: false });\n            return;\n        }\n        console.log(\"TRY2\")\n        this.setState({\n            isYamlValid: true,\n            yaml: yamlData,\n        });\n        this.props.accessor({\n            questions: this.generateQuestions(yamlData)\n        })\n        //console.log(this.generateQuestions(yamlData))\n        this.generateJson({\n            isYamlValid: true,\n            yaml: yamlData,\n            questions: this.generateQuestions(yamlData)\n        });\n    }\n\n    generateQuestions = (yamlData) => {\n        return Object.keys(yamlData).map(key => {\n            const q = yamlData[key];\n            if (q === null) {\n                return q;\n            }\n\n            return (\n                {\n                    title: key,\n                    answers: Array.isArray(q) ? q.map((el) => {\n                        //console.log(typeof el);\n                        if (typeof el === \"string\" || typeof el === \"number\") {\n                            return ({\n                                title: String(el),\n                                answer: q.length <= 1 // 必然的にtrue\n                            });\n                        } else if ((typeof el === \"object\" && !Array.isArray(el) && el !== null)) {\n                            //console.log(el[Object.keys(el)[0]])\n                            return ({\n                                title: Object.keys(el)[0],\n                                answer: ([\"a\", \"answer\", \"ans\"]).includes(el[Object.keys(el)[0]])\n                            })\n                        }\n                        return false;\n                    }) : [{\n                        title: q,\n                        answer: true\n                    }]\n                }\n            )\n        });\n    }\n\n    generateJson = (object = {}) => {\n        console.log(object)\n        const buffer = { ...this.props.state };\n        this.deleteOptions(object);\n        this.deleteOptions(buffer);\n        this.setState({\n            json: JSON.stringify(Object.assign(buffer, object), null, 4),\n            jsonBuffer: JSON.stringify(Object.assign(buffer, object), null, 4),\n            jsonRaw: JSON.stringify(Object.assign(buffer, object))\n        });\n        M.textareaAutoResize(document.querySelector('textarea'));\n    }\n\n    generateYaml = (questions = this.props.state.questions) => {\n        const yamlData = {};\n        for (const question of questions) {\n            //console.log(question)\n            yamlData[question.title] = question.answers.length <= 1 ? question.answers[0].title : question.answers.map(answer => (answer.answer ? ({\n                [answer.title]: \"answer\"\n            }) : answer.title))\n        }\n        //console.log(yamlData);\n        const yamlDumped = yaml.dump(yamlData).replace(/\\n[^\\s]+(.*):(.*)$/mg, (str) => \"\\n\" + str)\n        //console.log(yamlDumped)\n        this.setState({\n            yaml: yamlDumped,\n            yamlBuffer: yamlDumped\n        });\n    }\n\n\n    deleteOptions = (object) => {\n        delete object.json;\n        delete object.yaml;\n        delete object.isJsonValid;\n        delete object.isYamlValid;\n        delete object.jsonBuffer;\n        delete object.yamlBuffer;\n        delete object.jsonRaw;\n        delete object.jsonMinify;\n        delete object.jsonEditable;\n        delete object.showMore;\n        delete object.id;\n        delete object.jsonChallenge\n        //delete object.hardMode;\n    }\n\n\n    render() {\n        const SwitchTemp = (props) => (<Col s={12} m={4}>\n            <Row>\n                <Col s={4}>\n                    <Switch {...props} />\n                </Col>\n                <Col s={8}>\n                    {props.title}\n                </Col>\n            </Row>\n        </Col>)\n        return (\n            <Section className=\"no-pad-bot\" id=\"index-banner\" >\n                {this.props.state === undefined ? <NotFound /> : <Container>\n                    <br /><br />\n                    <Row className=\"center\">\n                        <Col s={12} m={6} >\n                            <TextInput s={12} label=\"Title\" validate id=\"title\" value={this.props.state.title} onChange={(e) => this.handleChange(e, \"title\")} />\n                            <TextInput s={12} label=\"Description\" validate id=\"description\" value={this.props.state.description} onChange={(e) => this.handleChange(e, \"description\")} />\n                        </Col>\n                        <Col s={12} m={6} >\n                            <Button large waves=\"light\" onClick={() => this.props.history.push(`/q/${this.props.state.id}/play`)}><Icon left>play_arrow</Icon>開始</Button>\n                            <Button large flat onClick={() => {\n                                console.log(this.state.json);\n                                if(this.props.baseState.signedIn && !this.props.baseState.user.loginProblem){\n                                    generateQuestionGist(JSON.parse(this.state.json), (state) => this.props.baseAccessor(state))\n                                }else{\n                                    M.toast({html: \"この機能を使うにはGitHubでログインしてください．\"})\n                                }\n                                }}><Icon left>share</Icon></Button>\n                        </Col>\n\n                    </Row>\n\n                    <Button flat waves=\"light\" onClick={() => this.handleChangeToggle(\"showMore\", true)}><Icon left>{!this.state.showMore ? \"expand_more\" : \"expand_less\"}</Icon>詳細設定</Button>\n                    {this.state.showMore ? <Row><br />\n                        <SwitchTemp\n                            id=\"soptions-switch\"\n                            offLabel=\"\"\n                            checked={this.props.state.shuffleOptions}\n                            onChange={(e) => this.handleChangeBool(e, \"shuffleOptions\")}\n                            onLabel=\"\"\n                            title=\"選択肢の順番を入れ替える\"\n                        />\n                        <SwitchTemp\n                            id=\"squestions-switch\"\n                            offLabel=\"\"\n                            checked={this.props.state.shuffleQuestions}\n                            onChange={(e) => this.handleChangeBool(e, \"shuffleQuestions\")}\n                            onLabel=\"\"\n                            title=\"出題順を入れ替える\"\n                        />\n                        <SwitchTemp\n                            id=\"hardmode-switch\"\n                            offLabel=\"\"\n                            checked={this.props.state.hardMode}\n                            onChange={(e) => this.handleChangeBool(e, \"hardMode\")}\n                            onLabel=\"\"\n                            title=\"ハードモード\"\n                        />\n                        <SwitchTemp\n                            id=\"manual-scoring-switch\"\n                            offLabel=\"\"\n                            checked={this.props.state.manualScoring}\n                            onChange={(e) => this.handleChangeBool(e, \"manualScoring\")}\n                            onLabel=\"\"\n                            title=\"記述式は自己採点する\"\n                        />\n                    </Row> : null}\n                    <br /><br />\n                    <Tabs className='tab-demo z-depth-1 light-blue-text lighten-1' >\n                        <Tab title=\"問題編集(yaml)\">\n                            <Textarea s={12} id=\"yaml-editor\"\n                                label={this.state.isYamlValid ? \"\" : \"YAML構文に問題があります\"}\n                                value={this.state.yamlBuffer}\n                                onChange={this.tryEditYaml}\n                                onBlur={(e) => this.tryEditYaml(e, true)}\n                                onKeyDown={(e) => this.handleKeyDown(e, \"yamlBuffer\", true)}\n                            />\n                        </Tab>\n                        <Tab title=\"構成ファイル(JSON)\" >\n                            <br />\n                            <Switch\n                                id=\"minify-switch\"\n                                offLabel=\"\"\n                                checked={this.state.jsonMinify}\n                                onChange={(e) => this.handleChangeBool(e, \"jsonMinify\", true)}\n                                onLabel=\"Minify\"\n                            />\n                            {!this.state.jsonMinify ? <Switch\n                                id=\"edit-switch\"\n                                offLabel=\"\"\n                                checked={this.state.jsonEditable}\n                                onChange={(e) => this.handleChangeBool(e, \"jsonEditable\", true)}\n                                onLabel=\"編集する\"\n                            /> : null}\n                            <Textarea s={12}\n                                id=\"json-editor\"\n                                value={this.state.jsonMinify ? this.state.jsonRaw : this.state.jsonBuffer}\n                                label={this.state.isJsonValid ? \"\" : \"JSON構文に問題があります\"}\n                                validate={true}\n                                disabled={this.state.jsonMinify || !this.state.jsonEditable}\n                                onChange={this.tryEditJson}\n                                onBlur={(e) => this.tryEditJson(e, true)}\n                                onKeyDown={(e) => this.handleKeyDown(e, \"jsonBuffer\", true)}\n                            />\n                        </Tab>\n                        {/* <Tab title=\"構成ファイル(JSON-min)\" >\n                            <Textarea s={12} value={this.props.state.jsonRaw}\n                                disabled={true}\n                            />\n                        </Tab> */}\n                        <Tab title=\"GUI編集(開発中)\" disabled>Test 2</Tab>\n                    </Tabs>\n                </Container>}\n            </Section>\n        )\n    }\n}\n\nexport default withRouter(Dashboard);"],"sourceRoot":""}