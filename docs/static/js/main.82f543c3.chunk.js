(this["webpackJsonpmatelialize-react-template"]=this["webpackJsonpmatelialize-react-template"]||[]).push([[0],{105:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),c=n(30),r=n.n(c),i=(n(54),n(8)),o=n(18),l=n(20),j=n(19),d=n(2),b=n(13),u=n(5),h=n(9),O=n.n(h),x=n(0),f=function(e){return O.a.Modal.getInstance(document.querySelector(e))},g=Object(u.f)((function(e){return Object(x.jsx)("nav",{className:"light-blue lighten-1",role:"navigation",children:Object(x.jsxs)("div",{className:"nav-wrapper container",children:[Object(x.jsx)(b.b,{id:"logo-container",to:"/",className:"brand-logo",children:"ARAI"}),Object(x.jsx)("ul",{className:"right hide-on-med-and-down",children:Object(x.jsx)("li",{children:Object(x.jsx)(d.Button,{waves:"light",flat:!0,className:"white-text",onClick:function(){return f("#questions").open()},children:"\u554f\u984c\u96c6"})})}),Object(x.jsx)("ul",{id:"nav-mobile",className:"sidenav",children:Object(x.jsx)("li",{children:Object(x.jsx)(d.Button,{waves:"light",flat:!0,className:"white-text",onClick:function(){return f("#questions").open()},children:"\u554f\u984c\u96c6"})})}),Object(x.jsx)(b.b,{onClick:function(){return f("#questions").open()},flat:!0,"data-target":"nav-mobile",className:"sidenav-trigger white-text",children:Object(x.jsx)("i",{className:"material-icons",children:"menu"})})]})})})),m=function(e){return Object(x.jsxs)(d.Footer,{copyrights:"\xa9 2021 Copyright Text",moreLinks:Object(x.jsx)("a",{className:"grey-text text-lighten-4 right",href:"#!",children:"More Links"}),links:Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:Object(x.jsx)("a",{className:"grey-text text-lighten-3",href:"#!",children:"Link 1"})}),Object(x.jsx)("li",{children:Object(x.jsx)("a",{className:"grey-text text-lighten-3",href:"#!",children:"Link 2"})}),Object(x.jsx)("li",{children:Object(x.jsx)("a",{className:"grey-text text-lighten-3",href:"#!",children:"Link 3"})}),Object(x.jsx)("li",{children:Object(x.jsx)("a",{className:"grey-text text-lighten-3",href:"#!",children:"Link 4"})})]}),className:"page-footer orange",children:[Object(x.jsx)("h5",{className:"white-text",children:"Footer Content"}),Object(x.jsx)("p",{className:"grey-text text-lighten-4",children:"You can use rows and columns here to organize your footer content."})]})},p=n(45),v=n(33),y=n(34),w=n.n(y),S=n(46),C=n(23),N=n(35),k=n.p+"static/media/sample.204fa3ec.yml",q=n(47),M=n.n(q),B=n(17),I=function(e){return Object(x.jsxs)("div",{children:[Object(x.jsx)("h4",{className:"header center",children:"\u554f\u984c\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f"}),Object(x.jsxs)(d.Row,{className:"center",children:[Object(x.jsxs)(d.Button,{waves:"light",className:"orange",onClick:function(){return(e="#questions",O.a.Modal.getInstance(document.querySelector(e))).open();var e},children:[Object(x.jsx)(d.Icon,{left:!0,children:"edit"}),"\u5225\u306e\u554f\u984c\u3092\u958b\u304f"]}),","]}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{})]})},J=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).componentDidMount=Object(S.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==s.props.state){e.next=2;break}return e.abrupt("return");case 2:if(s.generateJson(),!(s.props.state.questions.length<=0)){e.next=13;break}return e.t0=s,e.next=7,M()(k);case 7:return e.next=9,e.sent.text();case 9:e.t1=e.sent,e.t0.tryEditYaml.call(e.t0,e.t1,!0,!0),e.next=14;break;case 13:s.generateYaml();case 14:O.a.textareaAutoResize(document.querySelector("textarea"));case 15:case"end":return e.stop()}}),e)}))),s.handleChange=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=Object(i.a)({},t,e.target.value);n?s.setState(a):s.props.accessor(a),s.generateJson(Object(i.a)({},t,e.target.value))},s.handleChangeBool=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=Object(i.a)({},t,e.target.checked);console.log(a),n?s.setState(a):s.props.accessor(a),s.generateJson(Object(i.a)({},t,e.target.checked))},s.handleChangeToggle=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(i.a)({},e,!(t?s.state:s.props.state)[e]);console.log(n),t?s.setState(n):s.props.accessor(n),O.a.textareaAutoResize(document.querySelector("textarea"))},s.handleKeyDown=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("Tab"===e.key&&229!==e.keyCode){e.preventDefault();var a=e.target,c=a.value,r=a.selectionStart,o=a.selectionEnd,l=4,j=Array(l+1).join(" "),d=c.substring(0,r)+j+c.substring(o,c.length);(n?s.setState:s.props.accessor)(Object(i.a)({},t,d),(function(){a.setSelectionRange(r+l,r+l)}))}},s.tryEditJson=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(s.setState({jsonBuffer:e.target.value}),t){var n;try{n=JSON.parse(e.target.value)}catch(a){return void s.setState({isJsonValid:!1})}s.deleteOptions(n),s.setState({isJsonValid:!0}),s.setState({json:n}),s.props.accessor(n);try{s.generateYaml(n.questions)}catch(a){console.error("Failed to generateYaml",a)}}},s.tryEditYaml=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=n?e:e.target.value;if(s.setState({yamlBuffer:a}),t){var c;O.a.textareaAutoResize(document.querySelector("textarea")),console.log("TRY");try{if("object"!==typeof(c=N.a.load(a))||null===c||Array.isArray(c))throw new Error("Incorrect Type")}catch(r){return void s.setState({isYamlValid:!1})}console.log("TRY2"),s.setState({isYamlValid:!0,yaml:c}),s.props.accessor({questions:s.generateQuestions(c)}),s.generateJson({isYamlValid:!0,yaml:c,questions:s.generateQuestions(c)})}},s.generateQuestions=function(e){return Object.keys(e).map((function(t){var n=e[t];return null===n?n:{title:t,answers:Array.isArray(n)?n.map((function(e){return"string"===typeof e||"number"===typeof e?{title:String(e),answer:n.length<=1}:"object"===typeof e&&!Array.isArray(e)&&null!==e&&{title:Object.keys(e)[0],answer:["a","answer","ans"].includes(e[Object.keys(e)[0]])}})):[{title:n,answer:!0}]}}))},s.generateJson=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(v.a)({},s.props.state);s.deleteOptions(e),s.deleteOptions(t),s.setState({json:JSON.stringify(Object.assign(t,e),null,4),jsonBuffer:JSON.stringify(Object.assign(t,e),null,4),jsonRaw:JSON.stringify(Object.assign(t,e))}),O.a.textareaAutoResize(document.querySelector("textarea"))},s.generateYaml=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.props.state.questions,n={},a=Object(p.a)(t);try{for(a.s();!(e=a.n()).done;){var c=e.value;n[c.title]=c.answers.length<=1?c.answers[0].title:c.answers.map((function(e){return e.answer?Object(i.a)({},e.title,"answer"):e.title}))}}catch(o){a.e(o)}finally{a.f()}var r=N.a.dump(n).replace(/\n[^\s]+(.*):(.*)$/gm,(function(e){return"\n"+e}));s.setState({yaml:r,yamlBuffer:r})},s.deleteOptions=function(e){delete e.json,delete e.yaml,delete e.isJsonValid,delete e.isYamlValid,delete e.jsonBuffer,delete e.yamlBuffer,delete e.jsonRaw,delete e.jsonMinify,delete e.jsonEditable,delete e.showMore,delete e.id},s.state={json:"",yaml:{},jsonBuffer:"",yamlBuffer:"",jsonRaw:"",isJsonValid:!0,isYamlValid:!0,jsonMinify:!1,jsonEditable:!1,showMore:!1},s}return Object(C.a)(n,[{key:"render",value:function(){var e=this,t=function(e){return Object(x.jsx)(d.Col,{s:12,m:4,children:Object(x.jsxs)(d.Row,{children:[Object(x.jsx)(d.Col,{s:2,children:Object(x.jsx)(d.Switch,Object(v.a)({},e))}),Object(x.jsx)(d.Col,{s:10,children:e.title})]})})};return Object(x.jsx)(d.Section,{className:"no-pad-bot",id:"index-banner",children:void 0===this.props.state?Object(x.jsx)(I,{}):Object(x.jsxs)(d.Container,{children:[Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsxs)(d.Row,{className:"center",children:[Object(x.jsxs)(d.Col,{s:12,m:6,children:[Object(x.jsx)(d.TextInput,{s:12,label:"Title",validate:!0,id:"title",value:this.props.state.title,onChange:function(t){return e.handleChange(t,"title")}}),Object(x.jsx)(d.TextInput,{s:12,label:"Description",validate:!0,id:"description",value:this.props.state.description,onChange:function(t){return e.handleChange(t,"description")}})]}),Object(x.jsx)(d.Col,{s:12,m:6,children:Object(x.jsxs)(d.Button,{large:!0,waves:"light",onClick:function(){return O.a.Modal.getInstance(document.querySelector("#alert")).open()},children:[Object(x.jsx)(d.Icon,{left:!0,children:"play_arrow"}),"\u958b\u59cb"]})})]}),Object(x.jsxs)(d.Button,{flat:!0,waves:"light",onClick:function(){return e.handleChangeToggle("showMore",!0)},children:[Object(x.jsx)(d.Icon,{left:!0,children:this.state.showMore?"expand_less":"expand_more"}),"\u8a73\u7d30\u8a2d\u5b9a"]}),this.state.showMore?Object(x.jsxs)(d.Row,{children:[Object(x.jsx)("br",{}),Object(x.jsx)(t,{id:"soptions-switch",offLabel:"",checked:this.props.state.shuffleOptions,onChange:function(t){return e.handleChangeBool(t,"shuffleOptions")},onLabel:"",title:"\u9078\u629e\u80a2\u306e\u9806\u756a\u3092\u5165\u308c\u66ff\u3048\u308b"}),Object(x.jsx)(t,{id:"squestions-switch",offLabel:"",checked:this.props.state.shuffleQuestions,onChange:function(t){return e.handleChangeBool(t,"shuffleQuestions")},onLabel:"",title:"\u51fa\u984c\u9806\u3092\u5165\u308c\u66ff\u3048\u308b"})]}):null,Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsxs)(d.Tabs,{className:"tab-demo z-depth-1 light-blue-text lighten-1",children:[Object(x.jsx)(d.Tab,{title:"\u554f\u984c\u7de8\u96c6(yaml)",children:Object(x.jsx)(d.Textarea,{s:12,id:"yaml-editor",label:this.state.isYamlValid?"":"YAML\u69cb\u6587\u306b\u554f\u984c\u304c\u3042\u308a\u307e\u3059",value:this.state.yamlBuffer,onChange:this.tryEditYaml,onBlur:function(t){return e.tryEditYaml(t,!0)},onKeyDown:function(t){return e.handleKeyDown(t,"yamlBuffer")}})}),Object(x.jsxs)(d.Tab,{title:"\u69cb\u6210\u30d5\u30a1\u30a4\u30eb(JSON)",children:[Object(x.jsx)("br",{}),Object(x.jsx)(d.Switch,{id:"minify-switch",offLabel:"",checked:this.state.jsonMinify,onChange:function(t){return e.handleChangeBool(t,"jsonMinify",!0)},onLabel:"Minify"}),this.state.jsonMinify?null:Object(x.jsx)(d.Switch,{id:"edit-switch",offLabel:"",checked:this.state.jsonEditable,onChange:function(t){return e.handleChangeBool(t,"jsonEditable",!0)},onLabel:"\u7de8\u96c6\u3059\u308b"}),Object(x.jsx)(d.Textarea,{s:12,value:this.state.jsonMinify?this.state.jsonRaw:this.state.jsonBuffer,label:this.state.isJsonValid?"":"JSON\u69cb\u6587\u306b\u554f\u984c\u304c\u3042\u308a\u307e\u3059",validate:!0,disabled:this.state.jsonMinify||!this.state.jsonEditable,onChange:this.tryEditJson,onBlur:function(t){return e.tryEditJson(t,!0)},onKeyDown:function(t){return e.handleKeyDown(t,"jsonBuffer",!0)}})]}),Object(x.jsx)(d.Tab,{title:"GUI\u7de8\u96c6(\u958b\u767a\u4e2d)",disabled:!0,children:"Test 2"})]}),Object(x.jsx)(d.Modal,{id:"alert",header:"\u554f\u984c\u304c\u4f5c\u6210\u3055\u308c\u3066\u3044\u307e\u305b\u3093",bottomSheet:B.isMobile,children:"\u554f\u984c\u3092\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044"})]})})}}]),n}(a.a.Component),R=function(e){return Object(x.jsx)(d.Section,{children:Object(x.jsxs)(d.Container,{children:[Object(x.jsx)("h1",{className:"header center orange-text",children:"ARAI"}),Object(x.jsx)(d.Row,{className:"center",children:Object(x.jsx)("h5",{className:"header col s12 light",children:"\u53cd\u5fa9\u5b66\u7fd2\u3067\u5727\u5012\u7684\u6210\u9577\ud83d\udcaa"})}),Object(x.jsx)(d.Row,{className:"center",children:Object(x.jsx)(d.Button,{onClick:function(){return O.a.Modal.getInstance(document.querySelector("#questions")).open()},large:!0,waves:"light",className:"orange",children:"Get Started"})}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{})]})})},Y=n(49),A=Object(u.f)((function(e){var t=function(e){return O.a.Modal.getInstance(document.querySelector(e))},n=function(e,n){t("#questions").close(),0==n.length&&t("#dataWarn").open();var s=e.generateQuestion();console.log(e.history),e.history.push("/q/".concat(s))},a=Object(s.useState)(!1),c=Object(Y.a)(a,2),r=c[0],o=c[1];console.log(e.state);var l=Object.keys(e.state).filter((function(t){return/^question_(.*)$/.test(t)&&void 0!==e.state[t]})).map((function(t){return e.state[t]}));return Object(x.jsxs)("div",{children:[Object(x.jsx)(d.Modal,{id:"questions",header:"\u554f\u984c\u3092\u9078\u629e...",fixedFooter:B.isMobile,actions:[Object(x.jsxs)(d.Button,{flat:!0,waves:"light",className:"orange-text",onClick:function(){n(e,l)},children:[Object(x.jsx)(d.Icon,{left:!0,children:"edit"}),"\u65b0\u898f\u4f5c\u6210"]}),Object(x.jsx)(d.Button,{flat:!0,waves:"light",onClick:function(){return t("#questions").close()},children:"CLOSE"})],bottomSheet:B.isMobile,children:Object(x.jsxs)(d.Row,{children:[l.map((function(e,n){return Object(x.jsx)(d.Col,{m:4,s:6,children:Object(x.jsx)(d.Card,{actions:[Object(x.jsx)(b.b,{to:"/q/".concat(e.id),onClick:function(){return t("#questions").close()},children:Object(x.jsx)(d.Icon,{children:"play_arrow"})},"play"),Object(x.jsx)(b.b,{to:"/q/".concat(e.id),onClick:function(){return t("#questions").close()},children:Object(x.jsx)(d.Icon,{children:"edit"})},"edit"),Object(x.jsx)(b.b,{onClick:function(){o(e),t("#deleteWarn").open()},children:Object(x.jsx)(d.Icon,{children:"delete"})},"delete")],className:"",closeIcon:Object(x.jsx)(d.Icon,{children:"close"}),revealIcon:Object(x.jsx)(d.Icon,{children:"more_vert"}),title:e.title,children:e.description})},n)})),0===l.length?Object(x.jsx)(d.Section,{children:Object(x.jsxs)(d.Container,{children:[Object(x.jsx)("h4",{className:"header center",children:"\u554f\u984c\u304c\u307e\u3060\u3042\u308a\u307e\u305b\u3093"}),Object(x.jsxs)(d.Row,{className:"center",children:[Object(x.jsxs)(d.Button,{waves:"light",className:"orange",onClick:function(){n(e,l)},children:[Object(x.jsx)(d.Icon,{left:!0,children:"edit"}),"\u65b0\u898f\u4f5c\u6210"]}),","]})]})}):null]})}),Object(x.jsx)(d.Modal,{id:"deleteWarn",header:"\u554f\u984c\u3092\u6d88\u3057\u307e\u3059",actions:[Object(x.jsx)(d.Button,{flat:!0,waves:"light",onClick:function(){return t("#deleteWarn").close()},children:"\u30ad\u30e3\u30f3\u30bb\u30eb"}),Object(x.jsxs)(d.Button,{flat:!0,waves:"light",className:"red-text",onClick:function(){e.baseAccessor(Object(i.a)({},"question_".concat(r.id),void 0)),t("#deleteWarn").close()},children:[Object(x.jsx)(d.Icon,{left:!0,children:"delete"}),"\u5b8c\u5168\u306b\u6d88\u3059"]})],bottomSheet:B.isMobile,children:Object(x.jsxs)(d.Row,{children:["\u4ee5\u4e0b\u306e\u554f\u984c\u3092\u6d88\u3057\u307e\u3059\uff0e\u672c\u5f53\u306b\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f",Object(x.jsx)(d.Col,{m:4,s:6,children:Object(x.jsx)(d.Card,{title:r.title,children:r.description})})]})}),Object(x.jsxs)(d.Modal,{id:"dataWarn",header:"\u30c7\u30fc\u30bf\u306e\u53d6\u6271\u306b\u95a2\u3059\u308b\u6ce8\u610f",bottomSheet:B.isMobile,children:["\u3053\u306eWeb\u30a2\u30d7\u30ea\u3067\u306f\uff0c\u30e6\u30fc\u30b6\u30fc\u304c\u4f5c\u6210\u3057\u305f\u554f\u984c\u3092\u30af\u30e9\u30a6\u30c9\u3067\u306f\u306a\u304f\u30d6\u30e9\u30a6\u30b6\u306b\u4fdd\u5b58\u3057\u307e\u3059(localStorage)\uff0e",Object(x.jsx)("span",{className:"red-text",children:"\u3053\u306eWeb\u30a2\u30d7\u30ea\u306f\u307e\u3060\u30d9\u30fc\u30bf\u7248\u3067\u3059\uff0e"}),"\u30c7\u30fc\u30bf\u304c\u98db\u3073\u3084\u3059\u3044\u306e\u3067\u5fc5\u305a\u81ea\u8eab\u3067\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3092\u53d6\u3063\u3066\u304f\u3060\u3055\u3044\uff0e"]})]})})),T=n(24),L=function(e){Object(l.a)(t,e);Object(j.a)(t);function t(e){return Object(o.a)(this,t),Object(T.a)(undefined)}return Object(C.a)(t,[{key:"render",value:function(){return null}}]),t}(a.a.Component),E=n(48),D=n.n(E),V=n(104),_=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(e){var s;Object(o.a)(this,n),(s=t.call(this,e)).accessor=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.props.currentId,n="question_".concat(t);console.log(e);var a=s.state[n];if(void 0===a)return!1;s.setState(Object(i.a)({},n,V(void 0===s.state[n]?{}:s.state[n],e,{arrayMerge:function(e,t,n){return t}})))},s.generateQuestion=function(){var e=function(){var e=Math.random();return e.toString(36),e.toString(36).substr(2,5)}();return s.setState(Object(i.a)({},"question_".concat(e),{title:"\u7121\u984c\u306e\u30af\u30a4\u30ba",description:D()().format("YYYY/MM/DD HH:mm:ss\u306e\u30af\u30a4\u30ba"),id:e,questions:[],shuffleOptions:!1,shuffleQuestions:!1})),e},s.render=function(){return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsxs)(b.a,{basename:"/ichimon-itto",children:[Object(x.jsx)(g,{}),Object(x.jsxs)(u.c,{children:[Object(x.jsx)(u.a,{exact:!0,path:"/",render:function(){return Object(x.jsx)(R,{})}}),Object(x.jsx)(u.a,{exact:!0,path:"/q/:id",render:function(e){return Object(x.jsx)(J,{state:s.state["question_".concat(e.match.params.id)],accessor:function(t){return s.accessor(t,e.match.params.id)},baseAccessor:s.setState},e.match.params.id)}}),Object(x.jsx)(u.a,{exact:!0,path:"/q/:id/play",render:function(e){return Object(x.jsx)(L,{state:s.state["question_".concat(e.match.params.id)],accessor:function(t){return s.accessor(t,e.match.params.id)},baseAccessor:s.setState},e.match.params.id)}})]}),Object(x.jsx)(A,{generateQuestion:s.generateQuestion,state:s.state,baseAccessor:function(e){return s.setState(e)}})]}),Object(x.jsx)(m,{})]})};var a=JSON.parse(window.localStorage.getItem("data"));return s.state=null!==a?a:{},setInterval((function(){window.localStorage.setItem("data",JSON.stringify(s.state)),console.log("saved"),console.log(s.state)}),5e3),s}return n}(a.a.Component),Q=Object(u.f)(_),z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,106)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),s(e),a(e),c(e),r(e)}))};r.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(b.a,{children:Object(x.jsx)(Q,{})})}),document.getElementById("root")),z()},54:function(e,t,n){}},[[105,1,2]]]);
//# sourceMappingURL=main.82f543c3.chunk.js.map